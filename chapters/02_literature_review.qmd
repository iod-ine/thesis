# Literature review {#sec-literature-review}

This chapter provides an overview of the current state of literature on a variety of related subjects.
Its main goals are to provide the reader with context for the research described in the thesis, provide references for in-depth materials on topics that are out of scope of this work, and to highlight the research gap that the work tries to address.

## Machine learning and deep learning on point clouds {#sec-deep-learning}

The reader is assumed to be familiar with general concepts of machine learning and deep learning.
For an introduction or a refresher, one of the best resources is [@goodfellowDeepLearning2016].
For a more detailed exploration, [@wangRecentAdvancesDeep2020] offers a selection of papers on topics relevant to modern deep learning techniques.
The section is focused on providing a short overview of machine learning and deep learning for point clouds, as LiDAR point clouds are the main source of data for the framework described in this thesis.

Classic machine learning approaches rely on manual feature preparation.
[@weinmannFeatureRelevanceAssessment2013] show that careful selection of features is crucial for interpretation of point cloud data.
They also provide definitions of some of the most used manual features that aim to describe the 3D structure of point sets.
The features are based on combinations of eigenvalues of a local covariance matrix of a set of points.
They can be calculated on a per-point basis by using fixed-size or nearest-neighbor neighborhoods, or for whole segments of point clouds.
The features include linearity, planarity, and scatter, aiming to indicate the presence of a linear, planar, or a volumetric object, 

[@lucasIdentificationLinearVegetation2019]
[@liFusionApproachesIndividual2023]

[@belloReviewDeepLearning2020] and [@guoDeepLearning3D2021] offer detailed reviews of the deep learning approaches used in various problems related to processing point clouds.
Below is a very short summary.

The first model to work directly work on point clouds is the PointNet [@qiPointNet2017].

::: {#fig-pointnet-architecture}
![](../images/pointnet_architecture.jpg)

PointNet architecture. Figure from [@qiPointNet2017]
:::

PointNet++ [@qiPointNetPlusPlus2017] addresses the drawbacks of the original PointNet model, namely only two scales for feature caclulation.
It introdcuces hierarchical feature learning by consecutive application of set abstraction modules

::: {#fig-pointnet2-architecture}
![](../images/pointnet2_architecture.jpg)

PointNet++ architecture. Figure from [@qiPointNetPlusPlus2017]
:::

## Applications for mapping forests

LiDAR has been used for forestry applications for a long time with publications on the topic dating back to 1984 [@nelsonDeterminingForestCanopy1984; @nilssonEstimationTreeHeights1996; @naessetDeterminationMeanTree1997; @naessetEstimatingTimberVolume1997; @carson2004lidar].

[@sinica-sinavskisForestStandVolume2022] combines LiDAR point clouds with Sentinel-2 images to predict timber volume on a stand level.
They use an unusual approach, using Sentinel-2 images for species detection by clustering, LiDAR point clouds for estimating tree counts and average tree heights, and combining them into to variables used to fit the final regression models.
The reported relative RMSE values are 14-22%, with errors larger for deciduous tree species.

[@eysnAlpineITDBenchmark2015] is a benchmark dataset similar to ...

[@lassalleDeepLearningbasedIndividual2022] used high-resolution satellite imagery.

[@weinsteinDeepForestPythonPackage2020] is a Python package for image-based tree detection.

[@ferreiraImprovingUrbanTree2024] use a U-Net semantic segmentation model for fusion of VNIR images and UAV LiDAR-derived feature maps including surface normals of the canopies, reflection intensities, canopy heights, and leaf-area index for mapping tree species in urban tropical areas.
Their results show that adding LiDAR-based features improves $F_1$-scores across all considered species, with average $F_1$-score 84.1.
They also use the segment anything model [@Kirillov_2023_ICCV] to automatically segment tree crowns with outstanding 98% boundary $F_1$-score.

### Terrestrial LiDAR

Terrestrial LiDAR surveys usually provide very dense and detailed point clouds.
Most importantly for the task of localizing individual trees, terrestrial measurements always capture the trunks of the trees clearly.
Tree trunks are very useful for tree detection and segmentation, and there are many algorithms that use bottom-to-top approaches that trace the trunks into the canopies.

[@nurunnabiDevelopmentPreciseTree2024] offers a compelling example of how such detailed data can be used to provide very detailed analyses on tree level.
The authors report high accuracies on the task of segmenting the point clouds

[@allenTreeSpeciesClassification2022] - classifying manually extracted terrestrial LiDAR point clouds of individual trees using multi-view representation based on [@goyalRevisitingPointCloud2021] and a convolutional network ResNet [@heDeepResidualLearning2016].

[@lopezserranoArtificialIntelligencebasedSoftware2022] describes a framework for fully automatic processing of terrestrial LiDAR point clouds based on trunk detection.

[@vianaTimberVolumeEstimation2022] use a small dataset to compare tree-level inventory metrics extracted from a terrestrial LiDAR survey and from a manual inventory.

### Fusion of data
[@balestraLiDARDataFusion2024] offers a review of 151 publications concerning fusion of LiDAR data with other remote sensing data.
The authors report that in most cases fusion improves the results.

### CHM-based methods

A common approach to utilize LiDAR point cloud data for tree detection is by calculating canopy height maps.
[@lisiewiczCorrectingResultsCHMBased2022] proposes a way to improve the results of CHM-based individual tree detection algorithms.

## Area-based approach {#sec-area-based-approach}

The most common way to use LiDAR for mapping forest attributes is the area-based approach [@whiteABAGuide2013].
@fig-aba-schema shows its schematic representation.
It consists of a LiDAR survey covering the whole area of interest and a manual forest inventory providing ground truth data for fitting statistical models and validating the results.
The inventory usually consists of many circular ground plots with every tree within counted and attributes of interest either directly measured or calculated and averaged.
The point cloud is clipped by the extents of the ground plots, and for each plot it is reduced to a collection of manually selected metrics.
The metrics usually include descriptions of the height distribution of the points, but often reflection intensities and other sensor-provided information is used as well, such as the return number, the number of returns, etc. (a brief discussion on the use of intensity-based features can be found in @sec-intensity-based-features).
In general, any summary statistic that can be derived from a collection of points can be used, including features mentioned in @sec-classic-machine-learning.
These metrics are then used as input features for fitting regression and classification models to predict the forest attributes measured on the corresponding plots.
The same metrics are calculated for the entire area of interest, using a grid with a cell size similar in area to the area of a single ground plot.
The models are then applied to the grid, generating an extrapolation of the required attributes.

::: {#fig-aba-schema}
![](../images/aba_schematic.jpg)

Area-based approach schematic. Figure from [@whiteABAGuide2013]
:::

Area-based approach is extensively used both in research and in industry because it provides many advantages.
<!--TODO: Add citations for ABA.-->
It is relatively easy to implement.
In fact, basic familiarity with the R programming language is enough to create your own area-based approach pipelines since a full, scalable implementation exists in the `lidR` package [@rousselLidRPackage2020].
It is also straightforward to extend with other data sources such as satellite or aerial images, and it works even with sparse data: for successful plot and stand level modeling point densities as low as 0.5 points per square meter have been reported to be enough [@treitzLiDARSamplingDensity2012; @jakubowskiTradeoffsLidarPulse2013].
Still, it requires a lot of field inventory data to work, since every ground plot becomes a single example for the models.
The models that can be used are also relatively simple, because of how expensive the data collection is.
Data-hungry approaches like neural networks usually don't have enough data to train.
The results are also very coarse â€“ predicted on a grid with the size defined by the area of a plot (a common plot shape is a circle with 9-meter radius, which is approximately equivalent to a square grid cell with 16-meter side).
This is why they are usually further aggregated to stand level.

[@kcEstimationAboveGroundForest2024]

[@bouvierGeneralizingPredictiveModels2015]

[@vermeerLidarbasedNorwegianTree2023] uses a UNet [@ronnebergerUNetConvolutionalNetworks2015] image semantic segmentation model on LiDAR-derived 1-meter resolution digital terrain models and canopy height maps to predict the distribution of three main tree species in a Norwegian forest.
They achieve a macro $F_1$ of 0.70 when including the background class, and 0.63 when including only the target species classes, as evaluated on independent field inventory plots.
